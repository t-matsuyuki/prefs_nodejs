(function(){"use strict";var e={745:function(e,t,r){var o={};r.r(o);var n=r(5689),a=r(7154);const u=(0,a._)("h1",null,"人口データ表",-1),p={key:1};function i(e,t,r,o,n,i){const l=(0,a.up)("PopulationTable");return(0,a.wg)(),(0,a.iD)("div",null,[u,n.populationData.length>0&&n.prefectures.length>0?((0,a.wg)(),(0,a.j4)(l,{key:0,populationData:n.populationData,prefectures:n.prefectures},null,8,["populationData","prefectures"])):((0,a.wg)(),(0,a.iD)("div",p," データを取得中... "))])}r(5988);var l=r(9052);const c={class:"population-table"},f=(0,a._)("th",null,"年",-1);function s(e,t,r,o,n,u){return(0,a.wg)(),(0,a.iD)("table",c,[(0,a._)("thead",null,[(0,a._)("tr",null,[f,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.prefectures,(e=>((0,a.wg)(),(0,a.iD)("th",{key:e.prefCode},(0,l.zw)(e.prefName),1)))),128))])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.sortedYearData,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.year},[(0,a._)("td",null,(0,l.zw)(e.year),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.population,(e=>((0,a.wg)(),(0,a.iD)("td",{key:e.prefCode},(0,l.zw)(e.value),1)))),128))])))),128))])])}var d={props:{populationData:{type:Array,required:!0},prefectures:{type:Array,required:!0}},computed:{sortedYearData(){const e=[...this.populationData];return e.sort(((e,t)=>t.year-e.year)),e},populationTable(){return o["default"]["population-table"]}}},h=r(7944);const v=(0,h.Z)(d,[["render",s]]);var y=v;const g=8,b=14,D="https://opendata.resas-portal.go.jp/api/v1/prefectures",w="https://opendata.resas-portal.go.jp/api/v1/population/composition/perYear?prefCode=[prefCode]&cityCode=-&addArea=",m="qC6sF6F9ylXndYA1deenJIaXKE36W812ZEKii8yt",C={"X-API-KEY":m};var j={components:{PopulationTable:y},data(){return{populationData:[],prefectures:[]}},mounted(){this.fetchData()},methods:{fetchData(){let e=[];fetch(D,{headers:C}).then((e=>e.json())).then((t=>{e=t.result.filter((e=>parseInt(e["prefCode"],10)>=g&&parseInt(e["prefCode"],10)<=b)),this.prefectures=e;const r=e.map((e=>fetch(w.replace("[prefCode]",e.prefCode),{headers:C}).then((e=>e.json())).then((t=>{const r=t.result.data.find((e=>{if("総人口"===e.label)return e.data}));return{prefCode:e.prefCode,population:r.data}})).catch((e=>(console.error("Error fetching population data:",e),null)))));Promise.all(r).then((e=>{this.groupingYear(e),this.populationData=this.convertData(e.filter((e=>null!==e)))})).catch((e=>{console.error("Error fetching population data:",e)}))})).catch((e=>{console.error("Error fetching prefectures:",e)}))},groupingYear(e){return e.map((e=>e))},convertData(e){const t=[];return e.forEach((({prefCode:e,population:r})=>{r.forEach((({year:r,value:o})=>{const n=t.find((e=>e.year===r));n?n.population.push({prefCode:e,value:o}):t.push({year:r,population:[{prefCode:e,value:o}]})}))})),t}}};const O=(0,h.Z)(j,[["render",i]]);var k=O;(0,n.ri)(k).mount("#app")}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,a){if(!o){var u=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],a=e[c][2];for(var p=!0,i=0;i<o.length;i++)(!1&a||u>=a)&&Object.keys(r.O).every((function(e){return r.O[e](o[i])}))?o.splice(i--,1):(p=!1,a<u&&(u=a));if(p){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,n,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,u=o[0],p=o[1],i=o[2],l=0;if(u.some((function(t){return 0!==e[t]}))){for(n in p)r.o(p,n)&&(r.m[n]=p[n]);if(i)var c=i(r)}for(t&&t(o);l<u.length;l++)a=u[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},o=self["webpackChunktestproject"]=self["webpackChunktestproject"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(745)}));o=r.O(o)})();
//# sourceMappingURL=app.fe01170d.js.map